<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couple's Desire Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Couple's Desire Tracker</h1>
        
        <!-- Registration Section -->
        <section id="registrationSection" class="section">
            <h2>Partner Registration</h2>
            <div class="registration-form">
                <div class="partner-input">
                    <label for="maleNameInput">His Name:</label>
                    <input type="text" id="maleNameInput" placeholder="Enter his name">
                </div>
                <div class="partner-input">
                    <label for="femaleNameInput">Her Name:</label>
                    <input type="text" id="femaleNameInput" placeholder="Enter her name">
                </div>
                <button id="registerButton" onclick="registerPartners()">Register Partners</button>
            </div>
        </section>
        
        <!-- Feeling Tracker Section -->
        <section id="feelingTrackerSection" class="section" style="display: none;">
            <h2>Track Your Desires</h2>
            
            <!-- Male Partner Section -->
            <div class="partner-section male-section">
                <h3 id="malePartnerName">Male Partner</h3>
                <div class="feeling-input">
                    <div class="emoji-display" id="maleEmoji">😐</div>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="maleSlider" oninput="updateEmoji('male', this.value)">
                        <div class="slider-labels">
                            <span>Low</span>
                            <span>High</span>
                        </div>
                    </div>
                    <div class="feeling-value">Feeling: <span id="maleValue">5</span>/10</div>
                </div>
                <button id="maleRecordButton" class="record-button" onclick="recordFeeling('male')">Record His Feeling</button>
                <div class="recommendations">
                    <h4>Recommendations for Him:</h4>
                    <ul id="maleRecommendations"></ul>
                </div>
            </div>
            
            <!-- Female Partner Section -->
            <div class="partner-section female-section">
                <h3 id="femalePartnerName">Female Partner</h3>
                <div class="feeling-input">
                    <div class="emoji-display" id="femaleEmoji">😐</div>
                    <div class="slider-container">
                        <input type="range" min="1" max="10" value="5" class="slider" id="femaleSlider" oninput="updateEmoji('female', this.value)">
                        <div class="slider-labels">
                            <span>Low</span>
                            <span>High</span>
                        </div>
                    </div>
                    <div class="feeling-value">Feeling: <span id="femaleValue">5</span>/10</div>
                </div>
                <button id="femaleRecordButton" class="record-button" onclick="recordFeeling('female')">Record Her Feeling</button>
                <div class="recommendations">
                    <h4>Recommendations for Her:</h4>
                    <ul id="femaleRecommendations"></ul>
                </div>
            </div>
            
            <!-- Couple Recommendations Section -->
            <div class="couple-recommendations">
                <h3>Couple's Activity Recommendations</h3>
                <div id="coupleRecommendation" class="couple-recommendation-box"></div>
            </div>
            
            <!-- Chart Section -->
            <div class="chart-section">
                <h3>Desire History</h3>
                <canvas id="feelingChart"></canvas>
            </div>
            
            <button id="clearRegistrationButton" class="clear-button" onclick="resetPartners()">Reset Partners</button>
        </section>
        
        <!-- Activity Log Section -->
        <section id="activityLogSection" class="section">
            <h3>Activity Log</h3>
            <div id="activityLog" class="activity-log"></div>
        </section>
    </div>
    
    <div class="bg-animation">
        <div class="day-overlay"></div>
        <div class="night-overlay"></div>
        <div class="sun"></div>
        <div class="moon"></div>
        <!-- Stars, clouds and rain will be added by JS -->
    </div>
    
    <script>
        // Simple global variables
        let maleName = 'Male Partner';
        let femaleName = 'Female Partner';
        let feelingHistory = loadFeelingHistory();
        let feelingChart = null;
        
        // Basic emoji mapping
        const emojis = {
            '1': '😈', '2': '😔', '3': '😕', '4': '😶', '5': '😌',
            '6': '🥰', '7': '😍', '8': '🤤', '9': '🔥', '10': '💖'
        };
        
        // Partner colors for chart
        const partnerColors = {
            'male': '#a78bfa',
            'female': '#66b2ff'
        };
        
        // Enhanced recommendations based on mood ranges
        const recommendations = {
            '1-3': [
                "Uh oh, looks like someone's having a day flatter than a pancake. Time for emergency cuddles! Go initiate a cuddle puddle, stat!",
                "Feeling like a grumpy gremlin? No worries, even gremlins deserve love! How about a gentle massage... maybe with some *extra* lotion? 😉",
                "Mood level: dial-up internet speed. Let's recharge those batteries! Netflix and chill... but actually chill. Maybe some whispered sweet nothings?",
                "Partner's feeling lower than a limbo champion. Time to be their personal sunshine. Offer to run them a bath, maybe with some bubbles... and you? 😉",
                "Dangerously low vibes detected! Operation 'Boost Their Spirits' is a go! Start with their favorite comfort food and end with... well, let's just say *dessert* is on you. 😉",
                "When the mood is this low, sometimes a gentle approach works best. Try offering a no-expectations back rub with some scented oils.",
                "Feeling down? Time for some dopamine! Suggest watching funny videos together while cuddling under a blanket.",
                "Low energy day? Offer to be their personal assistant for the evening - bring them drinks, snacks, and maybe a surprise kiss or two.",
                "Feeling down? Sometimes a gentle approach works wonders. Try writing them a heartfelt note about what you love about them.",
                "Low energy day? Suggest a cozy movie marathon with their favorite snacks and plenty of cuddles.",
                "When desire is low, focus on emotional connection. Share three things you appreciate about your partner today.",
                "Mood needs lifting? Offer a no-pressure foot massage while they relax and unwind.",
                "Sometimes the best remedy for a low mood is simple presence. Just be there, offering quiet support and gentle touches."
            ],
            '4-6': [
                "Hmm, hovering in the 'meh' zone, are we? Let's kick this mood up a notch! Time for a playful tickle fight? Loser does the dishes!",
                "Mood's kinda like lukewarm coffee. Needs a shot of espresso... or maybe a shot of *you*? 😉 How about a fun game night to inject some playful energy?",
                "Feeling 'just okay' is NOT okay! Let's turn 'okay' into 'OH-KAY!' Suggest a spontaneous dance-off in the living room. Winner gets bragging rights... and maybe a little something *extra*? 😉",
                "Partner's vibe is like a cloudy day. Let's bring out the sunshine! Propose a fun outing, even if it's just window shopping and holding hands like teenagers again.",
                "Mood check: 'needs improvement'. Challenge accepted! Time to unleash your inner flirt! Send a cheeky text, leave a playful note, and watch that mood meter rise! 😉",
                "Medium mood means it's time for medium spice! How about a game of 'Never Have I Ever' with some interesting forfeits?",
                "Neutral territory is perfect for trying something new together. Maybe a cooking challenge where you both create a dish for the other?",
                "Middle-of-the-road feelings? Perfect time for a middle-of-the-night adventure! Midnight picnic in the living room, perhaps?",
                "Medium mood means it's time for some playful teasing. Send a suggestive text while they're in the other room.",
                "Neutral territory is perfect for trying something slightly adventurous. How about a blindfolded taste test with sensual foods?",
                "For a middle-of-the-road mood, suggest taking a shower together - practical yet intimate!",
                "When desire is moderate, try the 'three kisses' game - one on the lips, one on the neck, and one... wherever you choose.",
                "Moderate mood? Perfect time for the 'compliment challenge' - take turns giving increasingly specific compliments about what attracts you to each other."
            ],
            '7-10': [
                "Woohoo! Mood's higher than a kite! Time to celebrate this glorious feeling! Spontaneous make-out session? Because why not! 🎉",
                "Feeling fantastic? Me too! Let's ride this wave of awesome! How about recreating your first date, but this time... with more *experience*? 😉",
                "Mood's off the charts! Party time! Let's get playful and explore something new together... wink wink, nudge nudge. 😉",
                "Warning: Extreme happiness levels detected! Side effects may include excessive giggling, uncontrollable smiling, and an overwhelming urge to... well, you know. Go with it! 😉",
                "Mood: Peak happiness! Let's make some memories to match! Time for a sensual massage exchange... followed by whatever delightful chaos ensues! 🔥",
                "High desire alert! Perfect time to try that fantasy you've been too shy to mention. Carpe diem!",
                "When the mood is this good, it's time to get adventurous! How about trying a new location in the house?",
                "Feeling amazing? Channel that energy into a passionate night - start with a steamy shower together and see where things lead!",
                "High desire detected! Time to try that position you've been curious about but haven't suggested yet.",
                "When the mood is this good, surprise them with a new toy or accessory you've secretly purchased.",
                "Feeling amazing? Create a sensual scavenger hunt around the house with sexy clues and a rewarding finale.",
                "With desire this high, it's the perfect time to share a fantasy you've been keeping to yourself.",
                "Peak mood is ideal for role play! Doctor and patient? Strangers meeting at a bar? The possibilities are endless!"
            ]
        };
        
        // Couple activity recommendations based on combined mood
        const coupleRecommendations = {
            'both-low': [
                "Netflix Show: 'Bridgerton' - Nothing like some steamy period romance to lift the spirits!",
                "Netflix Show: 'The Good Place' - Lighthearted comedy to boost your mood together.",
                "Netflix Show: 'Queer Eye' - Watch the Fab Five spread positivity and get inspired.",
                "Netflix Show: 'Chef's Table' - Indulge in food porn together and get inspired for your next meal.",
                "Netflix Show: 'Our Planet' - Cuddle up and be amazed by the wonders of nature together.",
                "Netflix Show: 'Schitt's Creek' - Heartwarming comedy that gets better with each episode.",
                "Netflix Show: 'The Great British Baking Show' - Soothing, wholesome content to enjoy together.",
                "Netflix Show: 'New Girl' - Quirky humor that's perfect for a low-key night in.",
                "Netflix Show: 'Friends' - Classic comfort viewing that never gets old.",
                "Netflix Show: 'Parks and Recreation' - Optimistic comedy that will lift your spirits.",
                
                "Activity: Create a blanket fort together and hide from the world with snacks and soft touches.",
                "Activity: Take a warm bath together with essential oils and soft music.",
                "Activity: Give each other gentle massages with no expectation of anything more.",
                "Activity: Look through old photos together and reminisce about happy memories.",
                "Activity: Order your favorite comfort food and eat it in bed while watching something nostalgic.",
                "Activity: Create a cozy reading nook and read to each other from your favorite books.",
                "Activity: Have a gentle yoga session together, helping each other with poses.",
                "Activity: Make a list of things you appreciate about each other and take turns sharing.",
                "Activity: Create a shared playlist of songs that make you both feel good.",
                "Activity: Light scented candles and do a guided meditation together.",
                
                "Game: Try 'Truth or Dare' with a twist - each dare must involve physical contact.",
                "Game: Play 'Two Truths and a Lie' about your fantasies.",
                "Game: 'I Spy' but only things you find attractive about each other.",
                "Game: Take turns reading erotic stories to each other.",
                "Game: Play 'Would You Rather' with increasingly intimate scenarios.",
                "Game: 'Compliment Tennis' - take turns giving each other genuine compliments until someone can't think of a new one.",
                "Game: 'Massage Roulette' - roll a die to determine which body part gets a 5-minute massage.",
                "Game: 'Relationship Trivia' - test how well you know each other's preferences and history.",
                "Game: 'Pillow Talk' - take turns asking deep questions you've never asked before.",
                "Game: 'Sensory Exploration' - blindfold one partner and let them guess objects by touch, taste, or smell.",
                
                "Dinner: Order comfort food and feed each other while sharing your favorite memories together.",
                "Dinner: Make a simple pasta dish together, staying within arm's reach at all times.",
                "Dinner: Breakfast for dinner! Make pancakes and get creative with toppings.",
                "Dinner: Create a picnic on your living room floor with finger foods and no utensils allowed.",
                "Dinner: Order from different restaurants and have a taste-testing session.",
                "Dinner: Make homemade pizza together with heart-shaped toppings.",
                "Dinner: Create a 'themed dinner' based on your favorite movie or TV show.",
                "Dinner: Have a fondue night with cheese, chocolate, or both!",
                "Dinner: Make comfort food from each other's childhoods.",
                "Dinner: Create a 'deconstructed dinner' where you prepare simple ingredients and assemble them together.",
                
                "Self-care: Take a shower together and wash away the day's stress with some soapy fun.",
                "Self-care: Do a DIY spa night with face masks, hand massages, and foot rubs.",
                "Self-care: Practice deep breathing exercises together, sitting back-to-back to feel each other's breath.",
                "Self-care: Take turns brushing each other's hair and giving scalp massages.",
                "Self-care: Put on your favorite music and slow dance in your pajamas.",
                "Self-care: Create a bedtime ritual together that includes gentle touch and affirmations.",
                "Self-care: Give each other hand and foot massages with scented lotion.",
                "Self-care: Take a nap together in the middle of the day, wrapped in each other's arms.",
                "Self-care: Write down three things you're grateful for about each other and share them.",
                "Self-care: Create a 'worry jar' where you both write down your stresses and symbolically put them away.",
                "Activity: Create a 'desire jar' together - write down things you'd like to try on slips of paper to draw from when you're both feeling more energetic.",
                "Activity: Take a scenic drive with no destination, just enjoying each other's company and holding hands.",
                "Activity: Start a two-person book club with a romance novel you can read to each other.",
                "Activity: Create a relationship bucket list of experiences you want to share together.",
                "Activity: Have a technology-free evening with just candles, conversation, and connection."
            ],
            'mixed': [
                "Netflix Show: 'Too Hot to Handle' - Watch others struggle with temptation while you create your own rules.",
                "Netflix Show: 'Sex Education' - Learn something new together with this funny and informative series.",
                "Netflix Show: 'Emily in Paris' - Light, fun, and occasionally steamy escapism.",
                "Netflix Show: 'Outlander' - Historical drama with plenty of passionate scenes to inspire you.",
                "Netflix Show: 'The Queen's Gambit' - Intense chemistry and strategy that might spark your own game night.",
                "Netflix Show: 'Lucifer' - Devilishly charming with plenty of chemistry and tension.",
                "Netflix Show: 'Never Have I Ever' - Funny, relatable, and full of romantic moments.",
                "Netflix Show: 'Ginny & Georgia' - Drama with plenty of spicy moments to discuss.",
                "Netflix Show: 'You' - Thrilling and provocative content that will spark conversation.",
                "Netflix Show: 'Love' - Raw, realistic portrayal of relationships with plenty of intimate moments.",
                
                "Activity: The higher-mood partner gives the other a full body massage with essential oils.",
                "Activity: Play 'Photographer and Model' where one directs the other in a private photoshoot.",
                "Activity: Go for a sunset walk holding hands and whispering compliments.",
                "Activity: Create a playlist together of songs that remind you of each other.",
                "Activity: Write love notes and hide them around the house for the other to find.",
                "Activity: Take a dance class online together - salsa, tango, or bachata are great for connection.",
                "Activity: Create a bucket list of experiences you want to share in the next year.",
                "Activity: Have a wine (or non-alcoholic alternative) tasting night with different varieties.",
                "Activity: Take turns being 'king/queen for an hour' where one person's wishes are the other's command.",
                "Activity: Create a relationship time capsule with mementos and notes to open in one year.",
                
                "Game: Play 'Strip Poker' or any game where clothing becomes optional as the night progresses.",
                "Game: 'Sexy Scavenger Hunt' where clues lead to different rooms and activities.",
                "Game: 'Role Reversal' where you each act like the other person for an hour.",
                "Game: 'Blindfold Taste Test' with sweet treats and body-safe options.",
                "Game: 'Simon Says' with increasingly intimate instructions.",
                "Game: 'Two-Person Pictionary' where you draw on each other's backs and guess what it is.",
                "Game: 'Romantic Jenga' with questions or dares written on each block.",
                "Game: 'Sexy Categories' - name items in categories like 'places we could make love' or 'things that turn me on'.",
                "Game: 'Desire Dice' - create your own with body parts on one die and actions on another.",
                "Game: 'Hot Seat' - 20 minutes where one person answers any question honestly, then switch.",
                
                "Dinner: Cook together with the rule that you must stay within arm's reach at all times.",
                "Dinner: Feed each other blindfolded and guess what you're eating.",
                "Dinner: Make a meal using aphrodisiac ingredients like chocolate, strawberries, and oysters.",
                "Dinner: Create an intimate fondue night with chocolate and fruit.",
                "Dinner: Make spicy food together - capsaicin is known to release endorphins!",
                "Dinner: Prepare a 'naked dinner' where clothing is optional but aprons are recommended!",
                "Dinner: Create an aphrodisiac tasting menu with oysters, chocolate, and other stimulating foods.",
                "Dinner: Have a 'body sushi' night (Nyotaimori) using desserts instead of raw fish.",
                "Dinner: Blindfold each other and take turns feeding surprise bites of food.",
                "Dinner: Create a 'seven sins' dinner with a dish representing each deadly sin.",
                
                "Adventure: Go for a night drive to a secluded spot and steam up the windows like teenagers.",
                "Adventure: Stargaze in your backyard or balcony with blankets and hot drinks.",
                "Adventure: Take a bubble bath together with candles and champagne.",
                "Adventure: Create an indoor treasure hunt with sexy prizes.",
                "Adventure: Recreate your first kiss in the exact same way.",
                "Adventure: Go to a hotel in your own city for a spontaneous staycation.",
                "Adventure: Take a midnight walk in a safe area, holding hands and sharing secrets.",
                "Adventure: Find a scenic overlook and watch the sunset while sharing your favorite memories together.",
                "Adventure: Create a DIY wine (or non-alcoholic) tasting tour in different rooms of your home.",
                "Adventure: Have a 'yes night' where you both agree to say yes to any reasonable suggestion.",
                "Activity: Play 'desire dice' - create your own with body parts on one and actions on another.",
                "Activity: Take turns being photographer and model for a private photoshoot.",
                "Activity: Create a couple's playlist with songs that remind you of special moments together.",
                "Activity: Try the 'eye gazing' exercise - sit facing each other and maintain eye contact for 5 minutes without speaking.",
                "Activity: Write love letters to your future selves, seal them, and set a date to open them together."
            ],
            'both-high': [
                "Netflix Show: Skip Netflix and make your own show! Maybe record a special memory?",
                "Netflix Show: '365 Days' - Controversial but undeniably steamy for inspiration.",
                "Netflix Show: 'Dark Desire' - Intense and passionate thriller to get your hearts racing.",
                "Netflix Show: 'Sense8' - Known for its inclusive and passionate intimate scenes.",
                "Netflix Show: 'Elite' - Steamy Spanish drama with plenty of passionate moments.",
                "Netflix Show: 'Bridgerton' - Regency-era romance with plenty of steamy scenes.",
                "Netflix Show: 'Sex/Life' - Provocative series about desire and fantasy.",
                "Netflix Show: 'Valeria' - Spanish series with plenty of passion and exploration.",
                "Netflix Show: 'Newness' - Film about a couple exploring open relationships.",
                "Netflix Show: 'Below Her Mouth' - Intense and explicit romantic drama.",
                
                "Activity: Create a bucket list of fantasies and start checking one off tonight!",
                "Activity: Give each other a strip tease to your favorite sexy songs.",
                "Activity: Body painting with edible paints and a shower afterward.",
                "Activity: Create a sensual obstacle course throughout your home.",
                "Activity: Write down fantasies, put them in a jar, and randomly select one to act out.",
                "Activity: Try a new toy together that you've both been curious about.",
                "Activity: Create a 'pleasure map' of each other's bodies, noting sensitive spots.",
                "Activity: Role play a fantasy scenario you've both agreed on beforehand.",
                "Activity: Take turns being blindfolded while the other creates different sensations.",
                "Activity: Create a sensual massage routine with different oils and techniques.",
                
                "Game: Play 'Follow the Leader' where one partner must do exactly what the other demonstrates for 10 minutes, then switch.",
                "Game: 'Sexy Charades' where you act out fantasies or positions.",
                "Game: 'Pleasure Map' - take turns exploring each other's bodies and marking sensitive spots.",
                "Game: 'Adult Twister' with a twist - add oil or lotion to make it more challenging.",
                "Game: 'Sexy Truth or Dare' with dares you've both pre-approved.",
                "Game: 'Erotic Card Games' - create your own with actions on each card.",
                "Game: 'Sensual Simon Says' with increasingly intimate instructions.",
                "Game: 'Strip [Any Board Game]' - Monopoly, Chess, or even Jenga gets interesting when clothes come off.",
                "Game: 'Sexy Scavenger Hunt' with clues leading to different rooms and activities.",
                "Game: 'Romantic Roulette' - create a wheel with different activities and spin to decide.",
                
                "Dinner: Dessert first! Whipped cream, chocolate sauce, and strawberries served on each other.",
                "Dinner: Skip dinner and go straight to 'dessert' - you can always order takeout later!",
                "Dinner: Champagne and chocolate-covered strawberries in bed.",
                "Dinner: Create an intimate fondue night with chocolate and fruit.",
                "Dinner: Make spicy food together - capsaicin is known to release endorphins!",
                "Dinner: Prepare a 'naked dinner' where clothing is optional but aprons are recommended!",
                "Dinner: Create an aphrodisiac tasting menu with oysters, chocolate, and other stimulating foods.",
                "Dinner: Have a 'body sushi' night (Nyotaimori) using desserts instead of raw fish.",
                "Dinner: Blindfold each other and take turns feeding surprise bites of food.",
                "Dinner: Create a 'seven sins' dinner with a dish representing each deadly sin.",
                
                "Adventure: Try a new room in the house or a new position you've been curious about!",
                "Adventure: Create a sensual scavenger hunt throughout your home with sexy prizes.",
                "Adventure: Set up a 'pleasure menu' where you each select appetizers, main course, and dessert activities.",
                "Adventure: Try temperature play with ice cubes and warm massage oil.",
                "Adventure: Create a DIY spa experience with a happy ending.",
                "Adventure: Transform a room in your house into a fantasy setting (beach, luxury hotel, etc.).",
                "Adventure: Try a new toy or accessory you've both been curious about.",
                "Adventure: Create a 'fantasy fulfillment night' where you act out a shared fantasy.",
                "Adventure: Have a 'communication challenge' where you can only make requests through touch.",
                "Adventure: Create your own 'intimacy menu' with starters, main courses, and desserts to choose from.",
                "Activity: Create your own intimate card game with dares and rewards.",
                "Activity: Try the 'seven minutes in heaven' challenge - but extend it to however long you desire.",
                "Activity: Have a 'dessert body canvas' night with whipped cream, chocolate sauce, and strawberries.",
                "Activity: Create a sensual massage oil blend together and take turns being masseuse.",
                "Activity: Play 'follow the leader' where one partner initiates and the other must mirror their actions."
            ]
        };
        
        // Add more recommendations
        function addMoreRecommendations() {
            // Add to individual recommendations
            recommendations['1-3'].push(
                "Feeling down? Sometimes a gentle approach works wonders. Try writing them a heartfelt note about what you love about them.",
                "Low energy day? Suggest a cozy movie marathon with their favorite snacks and plenty of cuddles.",
                "When desire is low, focus on emotional connection. Share three things you appreciate about your partner today.",
                "Mood needs lifting? Offer a no-pressure foot massage while they relax and unwind.",
                "Sometimes the best remedy for a low mood is simple presence. Just be there, offering quiet support and gentle touches."
            );
            
            recommendations['4-6'].push(
                "Medium mood means it's time for some playful teasing. Send a suggestive text while they're in the other room.",
                "Neutral territory is perfect for trying something slightly adventurous. How about a blindfolded taste test with sensual foods?",
                "For a middle-of-the-road mood, suggest taking a shower together - practical yet intimate!",
                "When desire is moderate, try the 'three kisses' game - one on the lips, one on the neck, and one... wherever you choose.",
                "Moderate mood? Perfect time for the 'compliment challenge' - take turns giving increasingly specific compliments about what attracts you to each other."
            );
            
            recommendations['7-10'].push(
                "High desire detected! Time to try that position you've been curious about but haven't suggested yet.",
                "When the mood is this good, surprise them with a new toy or accessory you've secretly purchased.",
                "Feeling amazing? Create a sensual scavenger hunt around the house with sexy clues and a rewarding finale.",
                "With desire this high, it's the perfect time to share a fantasy you've been keeping to yourself.",
                "Peak mood is ideal for role play! Doctor and patient? Strangers meeting at a bar? The possibilities are endless!"
            );
            
            // Add to couple recommendations
            coupleRecommendations['both-low'].push(
                "Activity: Create a 'desire jar' together - write down things you'd like to try on slips of paper to draw from when you're both feeling more energetic.",
                "Activity: Take a scenic drive with no destination, just enjoying each other's company and holding hands.",
                "Activity: Start a two-person book club with a romance novel you can read to each other.",
                "Activity: Create a relationship bucket list of experiences you want to share together.",
                "Activity: Have a technology-free evening with just candles, conversation, and connection."
            );
            
            coupleRecommendations['mixed'].push(
                "Activity: Play 'desire dice' - create your own with body parts on one and actions on another.",
                "Activity: Take turns being photographer and model for a private photoshoot.",
                "Activity: Create a couple's playlist with songs that remind you of special moments together.",
                "Activity: Try the 'eye gazing' exercise - sit facing each other and maintain eye contact for 5 minutes without speaking.",
                "Activity: Write love letters to your future selves, seal them, and set a date to open them together."
            );
            
            coupleRecommendations['both-high'].push(
                "Activity: Create your own intimate card game with dares and rewards.",
                "Activity: Try the 'seven minutes in heaven' challenge - but extend it to however long you desire.",
                "Activity: Have a 'dessert body canvas' night with whipped cream, chocolate sauce, and strawberries.",
                "Activity: Create a sensual massage oil blend together and take turns being masseuse.",
                "Activity: Play 'follow the leader' where one partner initiates and the other must mirror their actions."
            );
            
            console.log("Added more recommendations to enhance the experience");
        }

        // Call this when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Add more recommendations
            addMoreRecommendations();
            
            // Create neon lights
            createNeonLights();
        });
        
        // Function to register partners
        function registerPartners() {
            console.log("Register function called");
            
            const maleNameInput = document.getElementById('maleNameInput').value.trim();
            const femaleNameInput = document.getElementById('femaleNameInput').value.trim();
            
            if (!maleNameInput || !femaleNameInput) {
                alert("Please enter names for both partners!");
                return;
            }
            
            maleName = maleNameInput;
            femaleName = femaleNameInput;
            
            // Save to localStorage
            localStorage.setItem('partnerNames', JSON.stringify({
                maleName: maleName,
                femaleName: femaleName
            }));
            
            // Update UI
            document.getElementById('malePartnerName').textContent = maleName;
            document.getElementById('femalePartnerName').textContent = femaleName;
            
            // Show/hide sections
            document.getElementById('registrationSection').style.display = 'none';
            document.getElementById('feelingTrackerSection').style.display = 'block';
            
            // Initialize sliders
            updateEmojiAndValue(document.getElementById('maleSlider'), 
                               document.getElementById('maleEmoji'), 
                               document.getElementById('maleValue'));
            
            updateEmojiAndValue(document.getElementById('femaleSlider'), 
                               document.getElementById('femaleEmoji'), 
                               document.getElementById('femaleValue'));
            
            // Log the activity
            logActivity(`Partners registered: ${maleName} (♂) and ${femaleName} (♀)`);
            
            // Update chart
            updateChart();
            
            alert("Partners registered successfully!");
        }
        
        // Function to reset partners
        function resetPartners() {
            localStorage.removeItem('partnerNames');
            document.getElementById('registrationSection').style.display = 'block';
            document.getElementById('feelingTrackerSection').style.display = 'none';
        }
        
        // Function to update emoji and value display
        function updateEmojiAndValue(slider, emojiDisplay, valueDisplay) {
            const value = slider.value;
            emojiDisplay.textContent = emojis[value];
            valueDisplay.textContent = value;
        }
        
        // Function to record feeling
        function recordFeeling(role) {
            const slider = document.getElementById(role === 'male' ? 'maleSlider' : 'femaleSlider');
            const feelingValue = parseInt(slider.value);
            const today = new Date().toLocaleDateString();
            const timestamp = new Date().toISOString();
            const partnerName = role === 'male' ? maleName : femaleName;
            
            const todayIndex = feelingHistory.findIndex(entry => 
                entry.date === today && 
                entry.partnerRole === role
            );
            
            if (todayIndex > -1) {
                feelingHistory[todayIndex].feeling = feelingValue;
                feelingHistory[todayIndex].timestamp = timestamp;
            } else {
                feelingHistory.push({ 
                    date: today, 
                    feeling: feelingValue, 
                    partnerRole: role,
                    name: partnerName,
                    timestamp: timestamp
                });
            }
            
            saveFeelingHistory();
            updateChart();
            displayRecommendations(feelingValue, role, partnerName);
            updateCoupleRecommendations();
            
            // Update background based on new desires
            updateBackgroundBasedOnDesires();
            
            // Update breathing animation rate
            updateBreathingRate();
            
            // Log the activity
            logActivity(`${partnerName} (${role === 'male' ? '♂' : '♀'}) recorded feeling level: ${feelingValue}/10 ${emojis[feelingValue]}`);
            
            alert(`Feeling recorded for ${partnerName}!`);
            
            // After recording, check if both partners have high desire
            const maleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'male'
            );
            const femaleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'female'
            );
            
            if (maleEntry && femaleEntry && maleEntry.feeling >= 8 && femaleEntry.feeling >= 8) {
                // Always trigger fireworks when both partners record high desire
                createFireworks();
            }
            
            // Save all data after recording
            saveAllData();
        }
        
        // Function to display recommendations
        function displayRecommendations(moodValue, partnerRole, partnerName) {
            const recs = getRecommendationsForMood(moodValue);
            const recommendationContainer = document.getElementById(
                partnerRole === 'male' ? 'maleRecommendations' : 'femaleRecommendations'
            );
            
            if (!recommendationContainer) return;
            
            recommendationContainer.innerHTML = '';
            
            if (recs.length > 0) {
                const randomIndex = Math.floor(Math.random() * recs.length);
                let selectedRecommendation = recs[randomIndex];
                
                let li = document.createElement('li');
                li.textContent = selectedRecommendation;
                recommendationContainer.appendChild(li);
            } else {
                let li = document.createElement('li');
                li.textContent = "No specific recommendations found for this mood, but sending you love! ❤️";
                recommendationContainer.appendChild(li);
            }
        }
        
        // Function to update couple recommendations based on both partners' moods
        function updateCoupleRecommendations() {
            const today = new Date().toLocaleDateString();
            
            // Find today's entries for both partners
            const maleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'male'
            );
            
            const femaleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'female'
            );
            
            if (!maleEntry || !femaleEntry) return;
            
            const maleMood = maleEntry.feeling;
            const femaleMood = femaleEntry.feeling;
            
            let recommendationType;
            
            // Determine recommendation type based on combined mood
            if (maleMood <= 3 && femaleMood <= 3) {
                recommendationType = 'both-low';
            } else if (maleMood >= 7 && femaleMood >= 7) {
                recommendationType = 'both-high';
            } else {
                recommendationType = 'mixed';
            }
            
            const recommendations = coupleRecommendations[recommendationType];
            const randomIndex = Math.floor(Math.random() * recommendations.length);
            const recommendation = recommendations[randomIndex];
            
            const coupleRecommendationElement = document.getElementById('coupleRecommendation');
            if (coupleRecommendationElement) {
                coupleRecommendationElement.innerHTML = `
                    <p class="mood-summary">${maleName}: ${maleMood}/10 ${emojis[maleMood]} | ${femaleName}: ${femaleMood}/10 ${emojis[femaleMood]}</p>
                    <p class="recommendation-text">${recommendation}</p>
                `;
            }
        }
        
        // Function to get recommendations for mood
        function getRecommendationsForMood(moodValue) {
            if (moodValue >= 1 && moodValue <= 3) {
                return recommendations['1-3'];
            } else if (moodValue >= 4 && moodValue <= 6) {
                return recommendations['4-6'];
            } else if (moodValue >= 7 && moodValue <= 10) {
                return recommendations['7-10'];
            }
            return [];
        }
        
        // Function to log activity
        function logActivity(message) {
            const timestamp = new Date().toLocaleString();
            const activityLog = document.getElementById('activityLog');
            
            if (!activityLog) return;
            
            const storedLog = localStorage.getItem('activityLog') || '[]';
            const logEntries = JSON.parse(storedLog);
            logEntries.unshift({ timestamp, message });
            
            // Keep only the last 20 entries
            if (logEntries.length > 20) {
                logEntries.pop();
            }
            
            localStorage.setItem('activityLog', JSON.stringify(logEntries));
            
            // Update the UI
            activityLog.innerHTML = logEntries.map(entry => 
                `<div class="log-entry"><span class="timestamp">${entry.timestamp}</span>: ${entry.message}</div>`
            ).join('');
        }
        
        // Function to load activity log
        function loadActivityLog() {
            const activityLog = document.getElementById('activityLog');
            if (!activityLog) return;
            
            const storedLog = localStorage.getItem('activityLog') || '[]';
            const logEntries = JSON.parse(storedLog);
            
            activityLog.innerHTML = '';
            
            logEntries.forEach(entry => {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.innerHTML = `<span class="log-time">${entry.timestamp}</span>: ${entry.message}`;
                activityLog.appendChild(logEntry);
            });
        }
        
        // Function to save feeling history
        function saveFeelingHistory() {
            localStorage.setItem('feelingHistory', JSON.stringify(feelingHistory));
        }
        
        // Function to load feeling history
        function loadFeelingHistory() {
            const storedHistory = localStorage.getItem('feelingHistory');
            return storedHistory ? JSON.parse(storedHistory) : [];
        }
        
        // Function to update chart
        function updateChart() {
            const feelingChartCanvas = document.getElementById('feelingChart');
            if (!feelingChartCanvas) return;
            
            const feelingChartContext = feelingChartCanvas.getContext('2d');
            
            if (feelingChart) {
                feelingChart.destroy();
            }
            
            // Group data by partner role
            const groupedData = {};
            feelingHistory.forEach(entry => {
                if (!groupedData[entry.partnerRole]) {
                    groupedData[entry.partnerRole] = [];
                }
                groupedData[entry.partnerRole].push(entry);
            });
            
            const datasets = [];
            const allDates = new Set();
            
            for (const role in groupedData) {
                const partnerData = groupedData[role];
                
                // Sort by date
                partnerData.sort((a, b) => new Date(a.date) - new Date(b.date));
                
                const dates = partnerData.map(entry => entry.date);
                const feelings = partnerData.map(entry => entry.feeling);
                
                dates.forEach(date => allDates.add(date));
                
                datasets.push({
                    label: role === 'male' ? `${maleName} (♂)` : `${femaleName} (♀)`,
                    data: feelings,
                    borderColor: partnerColors[role],
                    borderWidth: 3,
                    fill: false,
                    tension: 0.4,
                    dates: dates
                });
            }
            
            const sortedDatesArray = Array.from(allDates).sort((a, b) => new Date(a) - new Date(b));
            
            const dateFeelingMap = {};
            
            sortedDatesArray.forEach(date => {
                dateFeelingMap[date] = { 'male': null, 'female': null };
            });
            
            datasets.forEach(dataset => {
                const role = dataset.label.includes('(♂)') ? 'male' : 'female';
                dataset.dates.forEach((date, index) => {
                    dateFeelingMap[date][role] = dataset.data[index];
                });
            });
            
            const chartDataMale = [];
            const chartDataFemale = [];
            
            sortedDatesArray.forEach(date => {
                chartDataMale.push(dateFeelingMap[date]['male']);
                chartDataFemale.push(dateFeelingMap[date]['female']);
            });
            
            const finalDatasets = [
                {
                    label: `${maleName} (♂)`,
                    data: chartDataMale,
                    borderColor: partnerColors['male'],
                    borderWidth: 3,
                    fill: false,
                    tension: 0.4,
                },
                {
                    label: `${femaleName} (♀)`,
                    data: chartDataFemale,
                    borderColor: partnerColors['female'],
                    borderWidth: 3,
                    fill: false,
                    tension: 0.4,
                }
            ];
            
            feelingChart = new Chart(feelingChartContext, {
                type: 'line',
                data: {
                    labels: sortedDatesArray,
                    datasets: finalDatasets
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            title: {
                                display: true,
                                text: 'Intensity of Feeling (1-10)'
                            },
                            ticks: {
                                stepSize: 1
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Date'
                            }
                        }
                    }
                }
            });
        }
        
        // Add this function to initialize the background animation
        function initBackgroundAnimation() {
            console.log("Initializing background animation");
            
            const bgAnimation = document.querySelector('.bg-animation');
            if (!bgAnimation) {
                console.error("Background animation container not found");
                return;
            }
            
            // Clear any existing elements
            while (bgAnimation.children.length > 4) { // Keep the first 4 elements (day/night overlays, sun, moon)
                bgAnimation.removeChild(bgAnimation.lastChild);
            }
            
            const dayOverlay = document.querySelector('.day-overlay');
            const nightOverlay = document.querySelector('.night-overlay');
            const sun = document.querySelector('.sun');
            const moon = document.querySelector('.moon');
            
            console.log("Found elements:", {dayOverlay, nightOverlay, sun, moon});
            
            // Create sun rays
            if (sun) {
                sun.innerHTML = ''; // Clear existing rays
                for (let i = 0; i < 12; i++) {
                    const ray = document.createElement('div');
                    ray.className = 'sun-ray';
                    const length = 80 + Math.random() * 40;
                    ray.style.width = `${length}px`;
                    ray.style.transform = `rotate(${i * 30}deg) translateX(40px)`;
                    sun.appendChild(ray);
                }
                console.log("Created sun rays");
            }
            
            // Create stars for night sky
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = `${1 + Math.random() * 2}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.setProperty('--twinkle-duration', `${2 + Math.random() * 6}s`);
                bgAnimation.appendChild(star);
            }
            console.log("Created stars");
            
            // Create clouds for day sky
            for (let i = 0; i < 5; i++) {
                const cloud = document.createElement('div');
                cloud.className = 'cloud';
                cloud.style.width = `${100 + Math.random() * 150}px`;
                cloud.style.height = `${50 + Math.random() * 50}px`;
                cloud.style.left = `${Math.random() * 100}%`;
                cloud.style.top = `${Math.random() * 30}%`;
                const duration = 30 + Math.random() * 40;
                cloud.style.setProperty('--cloud-duration', `${duration}s`);
                bgAnimation.appendChild(cloud);
            }
            console.log("Created clouds");
            
            // Create rain container
            let rainContainer = document.querySelector('.rain-container');
            if (!rainContainer) {
                rainContainer = document.createElement('div');
                rainContainer.className = 'rain-container';
                bgAnimation.appendChild(rainContainer);
                console.log("Created rain container");
            }
            
            // Update background based on time of day
            function updateTimeBasedBackground() {
                console.log("Updating time-based background");
                const now = new Date();
                const hour = now.getHours();
                
                // Determine if it's day or night (6 AM to 6 PM is day)
                const isDay = hour >= 6 && hour < 18;
                console.log(`Current hour: ${hour}, isDay: ${isDay}`);
                
                if (isDay) {
                    if (dayOverlay) dayOverlay.style.opacity = '0.7';
                    if (nightOverlay) nightOverlay.style.opacity = '0';
                    if (sun) sun.style.opacity = '1';
                    if (moon) moon.style.opacity = '0';
                    
                    // Show clouds, hide stars
                    document.querySelectorAll('.cloud').forEach(cloud => {
                        cloud.style.opacity = '0.8';
                    });
                    document.querySelectorAll('.star').forEach(star => {
                        star.style.opacity = '0';
                    });
                } else {
                    if (dayOverlay) dayOverlay.style.opacity = '0';
                    if (nightOverlay) nightOverlay.style.opacity = '0.8';
                    if (sun) sun.style.opacity = '0';
                    if (moon) moon.style.opacity = '1';
                    
                    // Hide clouds, show stars
                    document.querySelectorAll('.cloud').forEach(cloud => {
                        cloud.style.opacity = '0';
                    });
                    document.querySelectorAll('.star').forEach(star => {
                        star.style.opacity = '1';
                    });
                    
                    // Create occasional shooting stars at night
                    if (Math.random() < 0.1) {
                        createShootingStar();
                    }
                }
                
                // Also check desires to update weather effects
                try {
                    updateBackgroundBasedOnDesires();
                } catch (e) {
                    console.error("Error updating desires-based background:", e);
                }
            }
            
            // Initial update
            updateTimeBasedBackground();
            
            // Update every minute
            setInterval(updateTimeBasedBackground, 60000);
            
            // Create shooting stars occasionally at night
            setInterval(() => {
                const now = new Date();
                const hour = now.getHours();
                const isNight = hour < 6 || hour >= 18;
                
                if (isNight) {
                    createShootingStar();
                }
            }, 5000);
            
            console.log("Background animation initialized");
        }
        
        // Call this function when the document is ready
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM content loaded, initializing background");
            initBackgroundAnimation();
        });
        
        // Also call it when the window loads (as a backup)
        window.onload = function() {
            console.log("Window loaded");
            if (!document.querySelector('.star')) {
                console.log("No stars found, reinitializing background");
                initBackgroundAnimation();
            }
            
            // Load all saved data first
            loadAllData();
            
            // Rest of your onload code...
        };
        
        // Add this function to the existing JavaScript section
        function updateBackgroundBasedOnDesires() {
            const today = new Date().toLocaleDateString();
            
            // Find today's entries for both partners
            const maleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'male'
            );
            
            const femaleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'female'
            );
            
            // Check if we have entries for both partners
            if (!maleEntry || !femaleEntry) return;
            
            const maleMood = maleEntry.feeling;
            const femaleMood = femaleEntry.feeling;
            
            // Check if both partners have low desire (under 6)
            const bothLowDesire = maleMood < 6 && femaleMood < 6;
            
            // Get or create rain container
            let rainContainer = document.querySelector('.rain-container');
            if (!rainContainer) {
                rainContainer = document.createElement('div');
                rainContainer.className = 'rain-container';
                document.querySelector('.bg-animation').appendChild(rainContainer);
            }
            
            // Toggle rain based on desire levels
            if (bothLowDesire) {
                if (!rainContainer.classList.contains('active')) {
                    rainContainer.classList.add('active');
                    createRaindrops(rainContainer);
                }
            } else {
                rainContainer.classList.remove('active');
                // Clear existing raindrops when not raining
                setTimeout(() => {
                    if (!rainContainer.classList.contains('active')) {
                        rainContainer.innerHTML = '';
                    }
                }, 1500);
            }
            
            // Update sun and moon animation speed based on average mood
            const avgMood = (maleMood + femaleMood) / 2;
            const sun = document.querySelector('.sun');
            const moon = document.querySelector('.moon');
            
            if (sun) {
                // Higher mood = faster sun rotation
                const rotationDuration = 60 - (avgMood * 3); // 30-60s range
                sun.style.animationDuration = `${rotationDuration}s, 24s`;
            }
            
            if (moon) {
                // Higher mood = more moon glow
                const glowIntensity = 5 + (avgMood * 0.5); // 5-10px range
                moon.style.boxShadow = `0 0 30px ${glowIntensity}px rgba(255, 255, 255, 0.5)`;
            }
            
            // Update stars twinkle speed based on mood
            const stars = document.querySelectorAll('.star');
            stars.forEach(star => {
                // Higher mood = faster twinkling
                const twinkleDuration = 6 - (avgMood * 0.3); // 3-6s range
                star.style.setProperty('--twinkle-duration', `${twinkleDuration}s`);
            });
            
            // Create more shooting stars when mood is high
            if (avgMood > 7) {
                const now = new Date();
                const hour = now.getHours();
                const isNight = hour < 6 || hour >= 18;
                
                if (isNight && Math.random() < 0.3) {
                    createShootingStar();
                }
            }
        }
        
        // Function to create raindrops
        function createRaindrops(container) {
            // Clear existing raindrops
            container.innerHTML = '';
            
            // Create 100 raindrops
            for (let i = 0; i < 100; i++) {
                const raindrop = document.createElement('div');
                raindrop.className = 'raindrop';
                
                // Random positioning
                raindrop.style.left = `${Math.random() * 100}%`;
                
                // Random animation duration
                const duration = 0.5 + Math.random() * 1.5;
                raindrop.style.animationDuration = `${duration}s`;
                
                // Random delay
                const delay = Math.random() * 2;
                raindrop.style.animationDelay = `${delay}s`;
                
                container.appendChild(raindrop);
            }
        }
        
        // Function to create shooting stars
        function createShootingStar() {
            const bgAnimation = document.querySelector('.bg-animation');
            if (!bgAnimation) return;
            
            const shootingStar = document.createElement('div');
            shootingStar.className = 'shooting-star';
            shootingStar.style.left = `${Math.random() * 80}%`;
            shootingStar.style.top = `${Math.random() * 40}%`;
            const travelDistance = 300 + Math.random() * 500;
            shootingStar.style.setProperty('--travel-distance', `${travelDistance}px`);
            shootingStar.style.setProperty('--shooting-duration', `${1 + Math.random() * 2}s`);
            bgAnimation.appendChild(shootingStar);
            
            // Remove shooting star after animation completes
            setTimeout(() => {
                shootingStar.remove();
            }, 3000);
        }
        
        // Function to update emoji based on slider value
        function updateEmoji(partner, value) {
            const emojis = ['😢', '😞', '😔', '😐', '🙂', '😊', '😄', '😁', '😍', '🥰'];
            const emojiIndex = Math.min(Math.floor(value) - 1, emojis.length - 1);
            const emoji = emojis[emojiIndex];
            
            if (partner === 'male') {
                document.getElementById('maleEmoji').textContent = emoji;
                document.getElementById('maleValue').textContent = value;
            } else {
                document.getElementById('femaleEmoji').textContent = emoji;
                document.getElementById('femaleValue').textContent = value;
            }
        }
        
        // Initialize sliders on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize male slider
            const maleSlider = document.getElementById('maleSlider');
            if (maleSlider) {
                updateEmoji('male', maleSlider.value);
                maleSlider.addEventListener('input', function() {
                    updateEmoji('male', this.value);
                });
            }
            
            // Initialize female slider
            const femaleSlider = document.getElementById('femaleSlider');
            if (femaleSlider) {
                updateEmoji('female', femaleSlider.value);
                femaleSlider.addEventListener('input', function() {
                    updateEmoji('female', this.value);
                });
            }
        });
        
        // Fix the updateBreathingRate function
        function updateBreathingRate() {
            const today = new Date().toLocaleDateString();
            
            // Find today's entries for both partners
            const maleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'male'
            );
            
            const femaleEntry = feelingHistory.find(entry => 
                entry.date === today && entry.partnerRole === 'female'
            );
            
            // Default to medium breathing rate if no entries
            if (!maleEntry || !femaleEntry) {
                console.log("No entries found for today, using default breathing rate");
                return;
            }
            
            const maleMood = maleEntry.feeling;
            const femaleMood = femaleEntry.feeling;
            const avgMood = (maleMood + femaleMood) / 2;
            
            // Calculate breathing rate: slower for low moods, faster for high moods
            // Range: 8s (slow) to 2s (fast)
            const breathingDuration = 8 - ((avgMood - 1) / 9) * 6;
            
            console.log(`Updating breathing rate: Average mood ${avgMood}, duration ${breathingDuration}s`);
            
            // Apply to container and other animated elements
            const container = document.querySelector('.container');
            const heading = document.querySelector('h1');
            const recommendationBox = document.querySelector('.couple-recommendation-box');
            
            if (container) {
                // Set the animation directly with both animations
                container.style.animation = `fadeIn 0.8s ease-out, breathe ${breathingDuration}s ease-in-out infinite`;
                console.log(`Set container animation to: ${container.style.animation}`);
            }
            
            if (heading) {
                heading.style.animation = `pulse-glow ${breathingDuration}s ease-in-out infinite`;
            }
            
            if (recommendationBox) {
                recommendationBox.style.animation = `float ${breathingDuration}s ease-in-out infinite`;
            }
            
            // Add subtle color changes based on mood
            if (avgMood >= 8) {
                // High desire - warm, passionate colors
                document.documentElement.style.setProperty('--mood-color', 'rgba(255, 107, 107, 0.3)');
            } else if (avgMood >= 5) {
                // Medium desire - balanced colors
                document.documentElement.style.setProperty('--mood-color', 'rgba(186, 104, 200, 0.3)');
            } else {
                // Low desire - cooler colors
                document.documentElement.style.setProperty('--mood-color', 'rgba(79, 195, 247, 0.3)');
            }
            
            console.log(`Updated breathing rate to ${breathingDuration}s based on average mood ${avgMood}`);
            
            // Show hearts when desire is high
            const hearts = document.querySelectorAll('.neon-heart');
            if (avgMood >= 8) {
                hearts.forEach(heart => {
                    heart.classList.add('visible');
                });
            } else {
                hearts.forEach(heart => {
                    heart.classList.remove('visible');
                });
            }
            
            // Update neon light intensity based on mood
            const neonLights = document.querySelectorAll('.neon-light');
            neonLights.forEach(light => {
                // Higher mood = more intense neon
                const intensity = 0.3 + (avgMood / 10) * 0.5; // 0.3-0.8 range
                light.style.opacity = intensity.toString();
                
                // Higher mood = faster animation
                const pulseDuration = 6 - (avgMood / 10) * 3; // 3-6s range
                const moveDuration = 20 - (avgMood / 10) * 10; // 10-20s range
                light.style.animationDuration = `${pulseDuration}s, ${moveDuration}s`;
            });
            
            // Check if both partners have high desire (8+)
            if (maleMood >= 8 && femaleMood >= 8) {
                // 20% chance to trigger fireworks on each update when both partners have high desire
                if (Math.random() < 0.2) {
                    createFireworks();
                }
            }
        }
        
        // Call this when the page loads to set initial breathing rate
        window.addEventListener('DOMContentLoaded', function() {
            // Add CSS variable for mood color
            document.documentElement.style.setProperty('--mood-color', 'rgba(186, 104, 200, 0.3)');
            
            // Set initial breathing rate
            setTimeout(updateBreathingRate, 1000);
        });
        
        // Add this function to create kinky neon lights
        function createNeonLights() {
            console.log("Creating neon lights");
            const bgAnimation = document.querySelector('.bg-animation');
            if (!bgAnimation) return;
            
            // Clear any existing neon lights
            document.querySelectorAll('.neon-light, .neon-heart').forEach(el => el.remove());
            
            // Create several neon lights with different colors
            const colors = ['pink', 'purple', 'blue', 'red'];
            const sizes = [100, 150, 200, 120, 180];
            
            for (let i = 0; i < 8; i++) {
                const neon = document.createElement('div');
                neon.className = `neon-light ${colors[i % colors.length]}`;
                neon.style.width = `${sizes[i % sizes.length]}px`;
                neon.style.height = `${sizes[i % sizes.length]}px`;
                
                // Random initial position
                neon.style.left = `${Math.random() * 100}%`;
                neon.style.top = `${Math.random() * 100}%`;
                
                // Custom movement paths
                neon.style.setProperty('--move-x', `${-100 + Math.random() * 200}px`);
                neon.style.setProperty('--move-y', `${-100 + Math.random() * 200}px`);
                neon.style.setProperty('--move-x2', `${-100 + Math.random() * 200}px`);
                neon.style.setProperty('--move-y2', `${-100 + Math.random() * 200}px`);
                neon.style.setProperty('--move-x3', `${-100 + Math.random() * 200}px`);
                neon.style.setProperty('--move-y3', `${-100 + Math.random() * 200}px`);
                
                // Randomize animation duration
                const duration = 10 + Math.random() * 15;
                neon.style.animationDuration = `${duration}s, ${duration * 1.5}s`;
                
                bgAnimation.appendChild(neon);
            }
            
            // Create neon hearts (initially hidden)
            for (let i = 0; i < 5; i++) {
                const heart = document.createElement('div');
                heart.className = 'neon-heart';
                
                // Add inner part for heart shape
                const inner = document.createElement('div');
                inner.className = 'neon-heart-inner';
                heart.appendChild(inner);
                
                // Random position
                heart.style.left = `${Math.random() * 90}%`;
                heart.style.top = `${Math.random() * 90}%`;
                
                bgAnimation.appendChild(heart);
            }
            
            console.log("Neon lights created");
        }
        
        // Make sure this function is called when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Create neon lights
            createNeonLights();
            
            // Add more recommendations
            addMoreRecommendations();
        });
        
        // Function to create fireworks animation
        function createFireworks() {
            console.log("Creating fireworks");
            const bgAnimation = document.querySelector('.bg-animation');
            if (!bgAnimation) return;
            
            // Create a firework at a random position
            function createFirework() {
                const firework = document.createElement('div');
                firework.className = 'firework';
                
                // Random position
                firework.style.left = `${10 + Math.random() * 80}%`;
                firework.style.top = `${10 + Math.random() * 80}%`;
                
                // Random color
                const hue = Math.floor(Math.random() * 360);
                firework.style.backgroundColor = `hsl(${hue}, 100%, 60%)`;
                firework.style.boxShadow = `0 0 10px 2px hsla(${hue}, 100%, 60%, 0.8)`;
                
                // Random size and duration
                const explosionSize = 15 + Math.random() * 25;
                const explosionDuration = 0.8 + Math.random() * 0.6;
                firework.style.setProperty('--explosion-size', explosionSize);
                firework.style.setProperty('--explosion-duration', `${explosionDuration}s`);
                
                bgAnimation.appendChild(firework);
                
                // Create particles for this firework
                const particleCount = 20 + Math.floor(Math.random() * 30);
                for (let i = 0; i < particleCount; i++) {
                    createParticle(firework, hue);
                }
                
                // Remove the firework element after animation completes
                setTimeout(() => {
                    firework.remove();
                }, explosionDuration * 1000 + 100);
            }
            
            // Create a particle for a firework
            function createParticle(firework, hue) {
                const particle = document.createElement('div');
                particle.className = 'firework-particle';
                
                // Slightly varied color
                const hueVariation = hue + Math.random() * 30 - 15;
                particle.style.backgroundColor = `hsl(${hueVariation}, 100%, 60%)`;
                particle.style.boxShadow = `0 0 6px 2px hsla(${hueVariation}, 100%, 60%, 0.6)`;
                
                // Random direction and distance
                const angle = Math.random() * Math.PI * 2;
                const distance = 50 + Math.random() * 100;
                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;
                
                particle.style.setProperty('--x', `${x}px`);
                particle.style.setProperty('--y', `${y}px`);
                
                // Random animation duration
                const duration = 0.5 + Math.random() * 0.5;
                particle.style.animation = `particle-animation ${duration}s ease-out forwards`;
                
                firework.appendChild(particle);
                
                // Remove the particle after animation completes
                setTimeout(() => {
                    particle.remove();
                }, duration * 1000 + 100);
            }
            
            // Create multiple fireworks with a delay between each
            let fireworkCount = 0;
            const maxFireworks = 15;
            
            function launchFirework() {
                createFirework();
                fireworkCount++;
                
                if (fireworkCount < maxFireworks) {
                    setTimeout(launchFirework, 300 + Math.random() * 600);
                }
            }
            
            // Start the fireworks
            launchFirework();
        }
        
        // Add these new recommendations to the existing arrays
        function addMoreRecommendations() {
            // Add to individual recommendations
            recommendations['1-3'].push(
                "Feeling down? Sometimes a gentle approach works wonders. Try writing them a heartfelt note about what you love about them.",
                "Low energy day? Suggest a cozy movie marathon with their favorite snacks and plenty of cuddles.",
                "When desire is low, focus on emotional connection. Share three things you appreciate about your partner today.",
                "Mood needs lifting? Offer a no-pressure foot massage while they relax and unwind.",
                "Sometimes the best remedy for a low mood is simple presence. Just be there, offering quiet support and gentle touches."
            );
            
            recommendations['4-6'].push(
                "Medium mood means it's time for some playful teasing. Send a suggestive text while they're in the other room.",
                "Neutral territory is perfect for trying something slightly adventurous. How about a blindfolded taste test with sensual foods?",
                "For a middle-of-the-road mood, suggest taking a shower together - practical yet intimate!",
                "When desire is moderate, try the 'three kisses' game - one on the lips, one on the neck, and one... wherever you choose.",
                "Moderate mood? Perfect time for the 'compliment challenge' - take turns giving increasingly specific compliments about what attracts you to each other."
            );
            
            recommendations['7-10'].push(
                "High desire detected! Time to try that position you've been curious about but haven't suggested yet.",
                "When the mood is this good, surprise them with a new toy or accessory you've secretly purchased.",
                "Feeling amazing? Create a sensual scavenger hunt around the house with sexy clues and a rewarding finale.",
                "With desire this high, it's the perfect time to share a fantasy you've been keeping to yourself.",
                "Peak mood is ideal for role play! Doctor and patient? Strangers meeting at a bar? The possibilities are endless!"
            );
            
            // Add to couple recommendations
            coupleRecommendations['both-low'].push(
                "Activity: Create a 'desire jar' together - write down things you'd like to try on slips of paper to draw from when you're both feeling more energetic.",
                "Activity: Take a scenic drive with no destination, just enjoying each other's company and holding hands.",
                "Activity: Start a two-person book club with a romance novel you can read to each other.",
                "Activity: Create a relationship bucket list of experiences you want to share together.",
                "Activity: Have a technology-free evening with just candles, conversation, and connection."
            );
            
            coupleRecommendations['mixed'].push(
                "Activity: Play 'desire dice' - create your own with body parts on one and actions on another.",
                "Activity: Take turns being photographer and model for a private photoshoot.",
                "Activity: Create a couple's playlist with songs that remind you of special moments together.",
                "Activity: Try the 'eye gazing' exercise - sit facing each other and maintain eye contact for 5 minutes without speaking.",
                "Activity: Write love letters to your future selves, seal them, and set a date to open them together."
            );
            
            coupleRecommendations['both-high'].push(
                "Activity: Create your own intimate card game with dares and rewards.",
                "Activity: Try the 'seven minutes in heaven' challenge - but extend it to however long you desire.",
                "Activity: Have a 'dessert body canvas' night with whipped cream, chocolate sauce, and strawberries.",
                "Activity: Create a sensual massage oil blend together and take turns being masseuse.",
                "Activity: Play 'follow the leader' where one partner initiates and the other must mirror their actions."
            );
            
            console.log("Added more recommendations to enhance the experience");
        }
        
        // Enhanced data persistence functions
        function saveAllData() {
            localStorage.setItem('partnerNames', JSON.stringify({
                maleName: maleName,
                femaleName: femaleName
            }));
            
            localStorage.setItem('feelingHistory', JSON.stringify(feelingHistory));
            
            const activityLogContent = document.getElementById('activityLog').innerHTML;
            localStorage.setItem('activityLog', activityLogContent);
            
            console.log('All data saved to local storage');
        }
        
        function loadAllData() {
            // Load partner names
            const savedNames = localStorage.getItem('partnerNames');
            if (savedNames) {
                const names = JSON.parse(savedNames);
                maleName = names.maleName;
                femaleName = names.femaleName;
                
                // Update UI with names
                document.getElementById('malePartnerName').textContent = maleName;
                document.getElementById('femalePartnerName').textContent = femaleName;
                
                // Show tracker section, hide registration
                document.getElementById('registrationSection').style.display = 'none';
                document.getElementById('feelingTrackerSection').style.display = 'block';
            }
            
            // Load feeling history
            const savedHistory = localStorage.getItem('feelingHistory');
            if (savedHistory) {
                feelingHistory = JSON.parse(savedHistory);
            }
            
            // Load activity log
            const savedActivityLog = localStorage.getItem('activityLog');
            if (savedActivityLog) {
                document.getElementById('activityLog').innerHTML = savedActivityLog;
            }
        }
    </script>
    
    <style>
        /* Import modern fonts */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        /* General styles with enhanced aesthetics */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #fff;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 25px;
            background: rgba(15, 14, 71, 0.5);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 1;
        }
        
        h1, h2, h3, h4 {
            font-weight: 600;
            margin-bottom: 15px;
            color: #ff6b6b;
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        h2 {
            font-size: 1.8rem;
            padding-bottom: 10px;
            margin-bottom: 20px;
            position: relative;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 2px;
            background: #ff6b6b;
            border-radius: 2px;
        }
        
        h3 {
            font-size: 1.5rem;
        }
        
        h4 {
            font-size: 1.2rem;
            text-align: left;
        }
        
        /* Section styles */
        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        /* Registration form */
        .registration-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 500px;
            margin: 0 auto;
        }
        
        .partner-input {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-size: 1rem;
            font-weight: 500;
        }
        
        input[type="text"] {
            padding: 12px 15px;
            border-radius: 8px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 2px #ff6b6b;
        }
        
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            background: #ff6b6b;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
        }
        
        button:hover {
            background: #ff8e8e;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 107, 107, 0.4);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        /* Partner sections */
        .partner-section {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .male-section {
            border-left: 4px solid #a78bfa;
        }
        
        .female-section {
            border-left: 4px solid #66b2ff;
        }
        
        /* Feeling input */
        .feeling-input {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .emoji-display {
            font-size: 3rem;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        /* Slider container styles */
        .slider-container {
            flex: 1;
            padding: 10px 0;
            position: relative;
        }
        
        /* Base slider styles */
        .slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            transition: all 0.3s ease;
        }
        
        /* Slider thumb styles for WebKit browsers (Chrome, Safari) */
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
            transition: all 0.3s ease;
        }
        
        /* Slider thumb styles for Firefox */
        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
            border: none;
            transition: all 0.3s ease;
        }
        
        /* Hover effects for slider thumb */
        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.8);
        }
        
        .slider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.8);
        }
        
        /* Slider labels */
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        /* Feeling value display */
        .feeling-value {
            font-size: 1.2rem;
            font-weight: 500;
            color: #ff6b6b;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        /* Recommendations */
        .recommendations {
            margin-top: 20px;
        }
        
        .recommendations ul {
            max-height: 150px;
            overflow-y: auto;
            padding-left: 20px;
            margin-top: 10px;
            scrollbar-width: thin;
            scrollbar-color: #ff6b6b rgba(255, 255, 255, 0.1);
        }
        
        .recommendations ul::-webkit-scrollbar {
            width: 6px;
        }
        
        .recommendations ul::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .recommendations ul::-webkit-scrollbar-thumb {
            background-color: #ff6b6b;
            border-radius: 10px;
        }
        
        .recommendations li {
            margin-bottom: 8px;
            position: relative;
            padding-left: 5px;
            transition: all 0.3s ease;
        }
        
        .recommendations li:hover {
            transform: translateX(5px);
            color: #ff8e8e;
        }
        
        /* Couple recommendations */
        .couple-recommendations {
            margin-top: 30px;
        }
        
        .couple-recommendation-box {
            background: rgba(255, 107, 107, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            border-left: 4px solid #ff6b6b;
            font-size: 1.1rem;
            line-height: 1.5;
        }
        
        /* Chart section */
        .chart-section {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
        }
        
        canvas {
            width: 100% !important;
            max-height: 300px;
            margin-top: 20px;
        }
        
        /* Record button */
        .record-button {
            display: block;
            margin: 15px auto;
            padding: 10px 20px;
            background: linear-gradient(to right, #ff6b6b, #ff8e8e);
            border-radius: 30px;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
            width: 80%;
            max-width: 250px;
        }
        
        .record-button:hover {
            background: linear-gradient(to right, #ff8e8e, #ff6b6b);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 107, 107, 0.4);
        }
        
        .record-button:active {
            transform: translateY(1px);
        }
        
        .male-section .record-button {
            background: linear-gradient(to right, #a78bfa, #c4b5fd);
            box-shadow: 0 4px 10px rgba(167, 139, 250, 0.3);
        }
        
        .male-section .record-button:hover {
            background: linear-gradient(to right, #c4b5fd, #a78bfa);
            box-shadow: 0 6px 15px rgba(167, 139, 250, 0.4);
        }
        
        .female-section .record-button {
            background: linear-gradient(to right, #66b2ff, #99ccff);
            box-shadow: 0 4px 10px rgba(102, 178, 255, 0.3);
        }
        
        .female-section .record-button:hover {
            background: linear-gradient(to right, #99ccff, #66b2ff);
            box-shadow: 0 6px 15px rgba(102, 178, 255, 0.4);
        }
        
        /* Activity log */
        .activity-log {
            max-height: 200px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            scrollbar-width: thin;
            scrollbar-color: #ff6b6b rgba(255, 255, 255, 0.1);
        }
        
        .activity-log::-webkit-scrollbar {
            width: 6px;
        }
        
        .activity-log::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .activity-log::-webkit-scrollbar-thumb {
            background-color: #ff6b6b;
            border-radius: 10px;
        }
        
        .log-entry {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .log-time {
            color: #ff6b6b;
            font-size: 0.9em;
            display: block;
            margin-bottom: 5px;
        }
        
        /* Clear button */
        .clear-button {
            background: rgba(255, 82, 82, 0.8);
            margin-top: 20px;
        }
        
        .clear-button:hover {
            background: rgba(255, 82, 82, 1);
            box-shadow: 0 4px 12px rgba(255, 82, 82, 0.4);
        }
        
        /* Mobile responsiveness */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.6rem;
            }
            
            h3 {
                font-size: 1.4rem;
            }
            
            .section {
                padding: 20px;
            }
            
            .feeling-input {
                flex-direction: column;
                align-items: center;
            }
            
            .emoji-display {
                font-size: 3.5rem;
                margin-bottom: 15px;
            }
            
            .slider-container {
                width: 100%;
            }
            
            .record-button {
                width: 100%;
            }
            
            .chart-section {
                padding: 15px;
            }
            
            canvas {
                max-height: 250px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }
            
            h2 {
                font-size: 1.4rem;
            }
            
            h3 {
                font-size: 1.2rem;
            }
            
            .section {
                padding: 15px;
            }
            
            .emoji-display {
                font-size: 3rem;
            }
            
            .feeling-value {
                font-size: 1.1rem;
            }
            
            button {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
            
            .recommendations ul {
                max-height: 120px;
            }
            
            canvas {
                max-height: 200px;
            }
        }
        
        /* Kinky Neon Lights */
        .neon-light {
            position: absolute;
            border-radius: 50%;
            filter: blur(20px);
            opacity: 0.4;
            z-index: -1;
            animation: neon-pulse 4s ease-in-out infinite alternate, neon-move 15s ease-in-out infinite alternate;
        }
        
        .neon-light.pink {
            background: #ff00cc;
            box-shadow: 0 0 40px 20px #ff00cc;
        }
        
        .neon-light.purple {
            background: #9900ff;
            box-shadow: 0 0 40px 20px #9900ff;
        }
        
        .neon-light.blue {
            background: #00ccff;
            box-shadow: 0 0 40px 20px #00ccff;
        }
        
        .neon-light.red {
            background: #ff3366;
            box-shadow: 0 0 40px 20px #ff3366;
        }
        
        @keyframes neon-pulse {
            0% {
                opacity: 0.3;
                filter: blur(20px);
            }
            50% {
                opacity: 0.6;
                filter: blur(25px);
            }
            100% {
                opacity: 0.3;
                filter: blur(20px);
            }
        }
        
        @keyframes neon-move {
            0% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(var(--move-x, 100px), var(--move-y, 50px));
            }
            50% {
                transform: translate(var(--move-x2, -100px), var(--move-y2, 100px));
            }
            75% {
                transform: translate(var(--move-x3, 50px), var(--move-y3, -50px));
            }
            100% {
                transform: translate(0, 0);
            }
        }
        
        /* Heart-shaped neon */
        .neon-heart {
            position: absolute;
            width: 30px;
            height: 30px;
            background: transparent;
            z-index: -1;
            opacity: 0;
            transition: opacity 1s ease;
        }
        
        .neon-heart:before,
        .neon-heart:after {
            content: '';
            position: absolute;
            width: 100%;
            height: 160%;
            top: 0;
            border-radius: 50%;
            background: #ff3366;
            box-shadow: 0 0 30px 15px #ff3366;
            filter: blur(10px);
        }
        
        .neon-heart:before {
            left: -50%;
        }
        
        .neon-heart:after {
            right: -50%;
        }
        
        .neon-heart-inner {
            position: absolute;
            width: 100%;
            height: 100%;
            transform: rotate(45deg);
            top: 85%;
            left: 0;
            background: #ff3366;
            box-shadow: 0 0 30px 15px #ff3366;
            filter: blur(10px);
        }
        
        .neon-heart.visible {
            opacity: 0.6;
            animation: heart-float 10s ease-in-out infinite;
        }
        
        @keyframes heart-float {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(50px, -30px) rotate(10deg);
            }
            50% {
                transform: translate(100px, 0) rotate(-10deg);
            }
            75% {
                transform: translate(50px, 30px) rotate(5deg);
            }
        }
        
        /* Breathing animation */
        .container {
            animation: breathe 6s ease-in-out infinite;
        }
        
        @keyframes breathe {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.02);
            }
        }
        
        /* UI animations */
        button,
        .slider-container,
        .recommendations li,
        .couple-recommendation-box {
            transition: all 0.3s ease;
        }
        
        button:hover,
        .slider-container:hover,
        .recommendations li:hover,
        .couple-recommendation-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        h1, h2, h3, h4 {
            transition: all 0.3s ease;
        }
        
        h1:hover, h2:hover, h3:hover, h4:hover {
            transform: translateY(-5px);
            text-shadow: 0 5px 10px rgba(0, 0, 0, 0.5);
        }
        
        /* Color transitions */
        .male-section {
            background: linear-gradient(to right, #0f0c29, #302b63);
            transition: background 0.5s ease;
        }
        
        .female-section {
            background: linear-gradient(to right, #24243e, #0f0c29);
            transition: background 0.5s ease;
        }
        
        .male-section:hover {
            background: linear-gradient(to right, #302b63, #0f0c29);
        }
        
        .female-section:hover {
            background: linear-gradient(to right, #0f0c29, #24243e);
        }
        
        /* Floating recommendation box */
        .couple-recommendation-box {
            animation: float 5s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        /* Centered reset button */
        .reset-button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background: linear-gradient(to right, #ff6b6b, #ff8e8e);
            border-radius: 30px;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
            width: 80%;
            max-width: 250px;
            text-align: center;
        }
        
        .reset-button:hover {
            background: linear-gradient(to right, #ff8e8e, #ff6b6b);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 107, 107, 0.4);
        }
        
        .reset-button:active {
            transform: translateY(1px);
        }
        
        /* Fireworks Animation */
        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            border-radius: 50%;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
            animation: explode var(--explosion-duration, 1s) ease-out forwards;
            opacity: 0;
            z-index: -1;
            transform-origin: center;
        }
        
        @keyframes explode {
            0% {
                transform: scale(0.1);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: scale(var(--explosion-size, 20));
                opacity: 0;
            }
        }
        
        .firework-particle {
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            transform-origin: center;
            opacity: 1;
        }
        
        @keyframes particle-animation {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--x, 50px), var(--y, 50px));
                opacity: 0;
            }
        }
        
        /* Background Animation */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            pointer-events: none;
        }
        
        .day-night-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e);
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .sun, .moon {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #ffd700;
            box-shadow: 0 0 20px 5px #ffd700;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .sun {
            top: 100px;
            left: 100px;
            animation: sun-move 20s linear infinite;
        }
        
        .moon {
            top: 100px;
            right: 100px;
            background: #fff;
            box-shadow: 0 0 20px 5px #fff;
            animation: moon-move 20s linear infinite;
        }
        
        @keyframes sun-move {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(200px);
            }
            100% {
                transform: translateY(0);
            }
        }
        
        @keyframes moon-move {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-200px);
            }
            100% {
                transform: translateY(0);
            }
        }
        
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #fff;
            border-radius: 50%;
            opacity: 0;
            animation: twinkle 5s infinite;
        }
        
        @keyframes twinkle {
            0% {
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        
        .shooting-star {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom, #fff, transparent);
            opacity: 0;
            animation: shoot 5s infinite;
        }
        
        @keyframes shoot {
            0% {
                opacity: 0;
                transform: translateX(-100px) translateY(-100px);
            }
            50% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateX(100px) translateY(100px);
            }
        }
        
        .cloud {
            position: absolute;
            width: 100px;
            height: 50px;
            background: #fff;
            border-radius: 50%;
            opacity: 0.5;
            animation: float-cloud 10s infinite;
        }
        
        @keyframes float-cloud {
            0% {
                transform: translateX(0);
            }
            50% {
                transform: translateX(100px);
            }
            100% {
                transform: translateX(0);
            }
        }
        
        .rain {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .raindrop {
            position: absolute;
            width: 2px;
            height: 10px;
            background: #fff;
            opacity: 0;
            animation: fall 1s infinite;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(-100px);
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translateY(100px);
                opacity: 0;
            }
        }
        
        /* Create Space Button */
        .create-space-button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background: linear-gradient(to right, #ff6b6b, #ff8e8e);
            border-radius: 30px;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3);
            width: 80%;
            max-width: 250px;
            text-align: center;
        }
        
        .create-space-button:hover {
            background: linear-gradient(to right, #ff8e8e, #ff6b6b);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 107, 107, 0.4);
        }
        
        .create-space-button:active {
            transform: translateY(1px);
        }
    </style>
</body>
</html>